{"version":3,"sources":["services/http-service.js","services/stay-service.js","store/actions/stay.actions.js","cmps/CityCard.jsx","cmps/ImageCarousel.jsx","cmps/StayRate.jsx","cmps/LongTxt.jsx","cmps/StayPreview.jsx","cmps/StayList.jsx","cmps/Loader.jsx","pages/Home.jsx","services/cloudinary-service.js","services/user-service.js","store/actions/user.actions.js","services/socket-service.js","pages/LoginSignup.jsx","cmps/StayFilterStayType.jsx","cmps/StayFilterRules.jsx","cmps/StayFilterAmenities.jsx","cmps/StayFilterPriceSlider.jsx","cmps/StayFilter.jsx","pages/StayApp.jsx","cmps/AssetDetails.jsx","cmps/AvatarSymbol.jsx","cmps/GradientBtn.jsx","cmps/StayGuestModal.jsx","services/order-service.js","store/actions/order.actions.js","cmps/StayBookModal.jsx","cmps/Amenities.jsx","cmps/Reviews.jsx","cmps/GoogleMap.jsx","pages/StayDetails.jsx","cmps/AddStay.jsx","cmps/UserStays.jsx","cmps/HostHomes.jsx","cmps/Wishlist.jsx","cmps/HostOrdersPreview.jsx","cmps/HostOrders.jsx","cmps/DashboardHeader.jsx","pages/UserProfile.jsx","cmps/UserOrderPreview.jsx","assets/img/trip.png","pages/StayTrips.jsx","routes.js","cmps/StaySearch.jsx","cmps/AppHeader.jsx","cmps/Footer.jsx","App.jsx","store/reducers/stay.reducer.js","store/reducers/user.reducer.js","store/reducers/order.reducer.js","store/store.js","reportWebVitals.js","index.js"],"names":["BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","console","log","dir","response","status","window","location","assign","stayService","query","getById","save","remove","filterBy","id","stay","_id","getStays","price","amenities","dispatch","stays","type","setFilter","err","CityCard","title","imgUrl","onSelect","onClick","className","src","alt","ImageCarousel","settings","dots","centerPadding","nextArrow","SampleNextArrow","prevArrow","SamplePrevArrow","imgsSrc","this","props","map","imgSrc","idx","Component","style","right","left","zIndex","onHover","opacity","StayRate","isShowReviews","reviews","length","avgRate","reduce","sum","obj","rate","toString","split","toFixed","numOfReview","icon","faStar","LongTxt","txt","numOfChars","shortTxt","slice","StayPreview","to","imgUrls","loc","country","summary","StayList","Loader","state","color","loading","size","_Home","city","setState","history","push","scrollTo","document","body","classList","add","onscroll","pageYOffset","filterStays","citiesUrl","mapDispatchToProps","Home","connect","stayModule","cloudinaryService","uploadImg","ev","UPLOAD_URL","formData","FormData","append","target","files","fetch","then","json","catch","error","userService","login","logout","signup","getUsers","update","getLoggedinUser","userId","userToUpdate","user","_saveLocalUser","userCred","newUser","isHost","sessionStorage","clear","setItem","JSON","stringify","parse","getItem","onLogout","socketService","socket","setup","io","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","_LoginSignup","isSignup","isOpen","userInfo","fullname","username","password","credentials","handleClickToggle","handleChange","field","name","value","pic","onSubmitUser","preventDefault","onSignup","onLogin","loggedInUser","match","path","faUserCircle","onSubmit","htmlFor","onChange","autoComplete","userCreds","LoginSignup","userModule","StayFilterStayType","closePopover","filterAndClose","onFilter","ClickAwayListener","onClickAway","options","label","classNamePrefix","StayFilterRules","isPets","isSmoking","rules","rulesLabel","rule","Checkbox","checked","inputProps","StayFilterAmenities","tv","wifi","kitchen","accessibility","airConditioner","secured","fastFood","parking","aidKit","publicTransport","amenitiesLabel","amenity","StayFilterPriceSlider","minPrice","maxPrice","Slider","max","valueLabelDisplay","aria-labelledby","_StayFilter","StayFilter","_StayApp","onSetFilter","StayApp","AssetDetails","assetTypeDesc","houseRulesDesc","houseRules","faHome","faHandSparkles","faBook","useStyles","makeStyles","theme","width","spacing","height","AvatarSymbol","classes","Avatar","GradientBtn","x","y","handleMouseMove","e","clientX","clientY","mouseX","pageX","currentTarget","offsetLeft","mouseY","pageY","offsetTop","cssText","isReserveMode","onMouseMove","StayGuestModal","adults","children","orderService","orderId","calcDays","trip","days","startDate","endDate","totalPrice","order","createdAt","Date","now","buyer","fullName","format","guests","host","firstDay","moment","diff","getOrders","orders","_StayBookModal","guest","isModalOpen","handleSubmit","enqueueSnackbar","variant","setTimeout","closeSnackbar","addOrder","hostId","hash","onOpenModal","onCloseModal","readOnly","displayFormat","startDateId","endDateId","onDatesChange","focusedInput","onFocusChange","startDatePlaceholderText","endDatePlaceholderText","noBorder","inputIconPosition","small","addedOrder","StayBookModal","withSnackbar","Amenities","faShieldAlt","faWifi","faParking","faBus","faPizzaSlice","faUtensils","faWheelchair","faSnowflake","faTv","faBriefcaseMedical","Modal","setAppElement","Reviews","modalIsOpen","review","onAddReview","closeModal","openModal","shortReviews","by","curTime","overlayClassName","Box","component","mb","borderColor","Rating","placeholder","faTimes","_GoogleMap","maxWidth","overflowX","overflowY","pos","lat","lng","google","zoom","initialCenter","center","position","GoogleMap","GoogleApiWrapper","apiKey","StayDetails","isShowMore","isOverChars","setStayDetails","capacity","address","faHeart","faChevronRight","AddStay","UserStays","HostHomes","Wishlist","HostOrdersPreview","updateOrder","defaultImgUrl","onSetStatus","updatedOrder","HostOrders","hostOrders","DashboardHeader","getOrdersStatus","filter","getActiveGuests","checkIn","checkOut","totalRate","forEach","rates","stayAvgRate","b","getTotalAvgRate","totalEarning","currMonth","getMonth","currYear","getFullYear","orderMonth","orderYear","toLocaleString","getMonthlyEarning","_UserProfile","sort","order1","order2","HostStays","stay1","stay2","activeClassName","exact","render","users","UserProfile","orderModule","UserOrderPreview","stayId","statusClassName","find","statusTxt","getStatusTxt","_StayTrips","getUserOrders","userOrders","routes","_StaySearch","onSubmitStay","_d","handleSearchMini","addEventListener","closeHeaderOnclickMode","node","current","contains","removeEventListener","faSearch","StaySearch","_AppHeader","React","createRef","msgNum","onShowUserMenu","onCloseUserMenu","ref","faCampground","faBars","Badge","badgeContent","AppHeader","Footer","_App","hostName","orderStatus","route","App","initialState","localLoggedinUser","loggedinUser","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","action","store","createStore","applyMiddleware","ReduxThunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","anchorOrigin","vertical","horizontal","TransitionComponent","Slide","preventDuplicate","maxSnack","getElementById"],"mappings":"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","file":"static/js/main.4c1d67ef.chunk.js","sourcesContent":["import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","import { httpService } from './http-service'\r\n\r\nexport const stayService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n}\r\n\r\nasync function query(filterBy) {\r\n    try {\r\n        return await httpService.get('stay/', filterBy)\r\n    } catch (err) {\r\n        console.log('cant get stays', err)\r\n    }\r\n}\r\n\r\nasync function getById(id) {\r\n    try {\r\n        return await httpService.get(`stay/${id}`)\r\n    } catch (err) {\r\n        console.log('cant get stay', err)\r\n    }\r\n}\r\n\r\nasync function save(stay) {\r\n    try {\r\n        if (stay._id) {\r\n            return await httpService.put(`stay/${stay._id}`, stay)\r\n        } else {\r\n            return await httpService.post('stay/', stay)\r\n        }\r\n    } catch (err) {\r\n        console.log('cant save stay', err)\r\n    }\r\n}\r\n\r\nasync function remove(id) {\r\n    try {\r\n        return await httpService.delete(`stay/${id}`)\r\n    } catch (err) {\r\n        console.log('not authorized!', err)\r\n    }\r\n}","import { stayService } from '../../services/stay-service'\r\n\r\nexport function getStays(filterBy = { price: '', amenities: '' }) {\r\n    return async dispatch => {\r\n        try {\r\n            // console.log('getStays in front', getStays)\r\n            const stays = await stayService.query(filterBy)\r\n            dispatch({ type: 'SET_STAYS', stays })\r\n\r\n        } catch (err) {\r\n            console.log('StaysActions: err in getStays', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onSaveStay(stay) {\r\n    return async dispatch => {\r\n        try {\r\n            const savedStay = await stayService.save(stay)\r\n            console.log('STAY IN ACTION', savedStay)\r\n            dispatch({ type: stay._id ? 'UPDATE_STAY' : 'ADD_STAY', stay: savedStay })\r\n        } catch (err) {\r\n            console.log(`StaysActions: err in ${stay._id ? 'update stay' : 'add stay'}${err}`)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onRemoveStay(stayId) {\r\n    return async dispatch => {\r\n        try {\r\n            await stayService.remove(stayId)\r\n            dispatch({ type: 'REMOVE_STAY', stayId })\r\n        } catch (err) {\r\n            console.log('StaysActions: err in removeStay', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'SET_FILTER', filterBy })\r\n        } catch (err) {\r\n            console.log('StaysActions: err in getFilter', err)\r\n        }\r\n    }\r\n}","export function CityCard({ title, imgUrl, onSelect }) {\r\n\r\n    const url = `https://res.cloudinary.com/duhcvi6p4/image/upload/v1622304703/${imgUrl}.jpg`\r\n\r\n    return (\r\n        <div\r\n            onClick={() => onSelect(title)}\r\n            className={`${title}-card card`}\r\n        >\r\n            <div className=\"img-container\">\r\n                <img src={url} alt=\"user\"/>\r\n            </div>\r\n            <div className={`bg-filter ${title}`}>\r\n                <h3>{title}</h3>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Component } from 'react'\r\nimport Slider from 'react-slick'\r\n\r\nimport 'slick-carousel/slick/slick.css'\r\nimport 'slick-carousel/slick/slick-theme.css'\r\n\r\nexport class ImageCarousel extends Component {\r\n\r\n    render() {\r\n        const settings = {\r\n            dots: true,\r\n            centerPadding: '20px',\r\n            nextArrow: <SampleNextArrow />,\r\n            prevArrow: <SamplePrevArrow />,\r\n\r\n        };\r\n        const { imgsSrc } = this.props\r\n\r\n        return (\r\n            <section className=\"image-carousel\">\r\n                <Slider {...settings}>\r\n\r\n                    {imgsSrc.map((imgSrc, idx) => {\r\n                        return (\r\n                            <div key={idx}>\r\n                                <img src={imgSrc} alt=\"house img\" />\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </Slider>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction SampleNextArrow(props) {\r\n\r\n    const { className, style, onClick } = props;\r\n    return (\r\n        <div\r\n            className={className}\r\n            style={{ ...style, right: \"10px\", }}\r\n            onClick={onClick}\r\n        />\r\n    );\r\n}\r\n\r\nfunction SamplePrevArrow(props) {\r\n    const { className, style, onClick } = props;\r\n    return (\r\n        <div\r\n            className={className}\r\n            style={{ ...style, left: \"10px\", zIndex: 1, onHover: { opacity: 1 } }}\r\n            onClick={onClick}\r\n        />\r\n    );\r\n}","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport function StayRate({ stay, isShowReviews }) {\r\n\r\n    const reviews = stay.reviews ? stay.reviews.length : 0\r\n\r\n    let avgRate = stay.reviews ? stay.reviews.reduce((sum, obj) => {\r\n        return sum + obj.rate;\r\n    }, 0) / stay.reviews.length : 0\r\n\r\n    if (avgRate % 1 !== 0) { // if decimal\r\n        if (avgRate.toString().split(\".\")[1].length > 1)\r\n            avgRate = avgRate.toFixed(2)\r\n    }\r\n    const numOfReview = isShowReviews ? ' reviews' : ''\r\n\r\n    return (\r\n        <section className='stay-rate flex'>\r\n            <FontAwesomeIcon icon={faStar} />\r\n            <div>\r\n                {!avgRate && <span>New</span>}\r\n                {avgRate !== 0 && <span>{avgRate}\r\n                    <span className=\"num-of-review\">\r\n                        ({reviews + numOfReview})\r\n                    </span>\r\n                </span>}\r\n            </div>\r\n        </section>\r\n    )\r\n}","\r\nexport function LongTxt({ txt, numOfChars }) {\r\n    const dots = txt.length < numOfChars ? '' : '...'\r\n    const shortTxt = txt.slice(0, numOfChars) + dots\r\n    return <p className=\"long-txt\">{shortTxt}</p>\r\n}","import { Link } from 'react-router-dom'\r\nimport { ImageCarousel } from './ImageCarousel'\r\nimport { StayRate } from './StayRate.jsx'\r\nimport { LongTxt } from './LongTxt.jsx';\r\n\r\nexport function StayPreview({ stay }) {\r\n    return (\r\n        <section className=\"stay-preview\">\r\n            <Link to={`stay/${stay._id}`}>\r\n                <div className=\"stay-image-container\">\r\n                    <ImageCarousel imgsSrc={stay.imgUrls} />\r\n                </div>\r\n                <StayRate stay={stay} />\r\n                <p>{stay.type} in {stay.loc.country}</p>\r\n                <LongTxt txt={stay.summary} numOfChars={28} />\r\n                <p><span className=\"price\">${stay.price}</span> / night</p>\r\n            </Link>\r\n        </section>\r\n    )\r\n}","import { StayPreview } from './StayPreview.jsx'\r\n\r\nexport function StayList({ stays }) {\r\n    if (!stays) return <h1>reloading</h1>\r\n    return (\r\n        <section className=\"stay-list\">\r\n            {stays.map(stay => {\r\n                return <StayPreview\r\n                    stay={stay}\r\n                    key={stay._id}\r\n                />\r\n            })}\r\n        </section>\r\n    )\r\n}","import { Component } from 'react';\r\nimport PulseLoader from \"react-spinners/ClipLoader\";\r\n\r\nexport class Loader extends Component {\r\n\r\n    state = {\r\n        color: '#ff385c'\r\n    }\r\n\r\n    render() {\r\n        const isLoading = true\r\n\r\n        return (\r\n            <div className=\"pulse-loader\">\r\n                <PulseLoader \r\n                color={this.state.color} \r\n                loading={isLoading} \r\n                size={150} />\r\n            </div>\r\n        );\r\n    }\r\n}","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { getStays, setFilter } from '../store/actions/stay.actions'\r\n\r\nimport { CityCard } from '../cmps/CityCard.jsx'\r\nimport { StayList } from '../cmps/StayList.jsx'\r\nimport { Loader } from '../cmps/Loader.jsx'\r\n\r\nexport class _Home extends Component {\r\n\r\n    state = {\r\n        city: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        document.body.classList.add('header-home-mode-open')\r\n\r\n        window.onscroll = () => {\r\n            if (window.pageYOffset >= 85) {\r\n                document.body.classList.remove('header-home-mode-open')\r\n            } else {\r\n                document.body.classList.add('header-home-mode-open')\r\n                document.body.classList.remove('header-onclick-mode')\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = null;\r\n        document.body.classList.remove('header-home-mode-open')\r\n        document.body.classList.remove('header-onclick-mode')\r\n\r\n    }\r\n\r\n    onSelect = async city => {\r\n        await this.setState({ city })\r\n        await this.props.setFilter(this.state)\r\n        this.props.history.push('/stay')\r\n    }\r\n\r\n    render() {\r\n\r\n        const filterStays = this.props.stays.slice(0, 5)\r\n        const cities = [\r\n            'amsterdam',\r\n            'paris',\r\n            'new-york',\r\n            'tokyo',\r\n            'london',\r\n            'barcelona'\r\n        ]\r\n\r\n        const citiesUrl = [\r\n            'amsterdam_nqxozm',\r\n            'paris_lljj5s',\r\n            'new-york_en6f3a',\r\n            'tokyo_cl5jez',\r\n            'london_ddezqi',\r\n            'barcelona_aq6xpb'\r\n        ]\r\n\r\n        if (!filterStays) return <Loader />\r\n\r\n        return (\r\n\r\n            <section className=\"stay-home main-container full\">\r\n                <div className=\"home-hero flex justify-center full\">\r\n                    <div className=\"hero-txt-container\">\r\n                        <h2>\r\n                            The best journey <br />\r\n                    takes you home.\r\n                    </h2>\r\n                        <Link to=\"/stay\">\r\n                            <button>Explore now!</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n                <h2>Popular locations</h2>\r\n\r\n                <div className=\"city-card-container\">\r\n                    {cities.map((city, idx) => {\r\n                        return <CityCard\r\n                            key={idx}\r\n                            onSelect={this.onSelect}\r\n                            title={city}\r\n                            imgUrl={citiesUrl[idx]}\r\n                        />\r\n                    })}\r\n                </div>\r\n\r\n                <div className=\"best-loc\">\r\n                    <div className=\"best-loc-header flex justify-space-between\">\r\n                        <h2>Top rated homes</h2>\r\n                        <Link to=\"/stay\">Show more</Link>\r\n                    </div>\r\n                    <div className=\"top-rated-container\">\r\n                        <StayList stays={filterStays} />\r\n                    </div>\r\n                </div>\r\n\r\n                <section>\r\n                        <h2>Homie's family</h2>\r\n                        <div className=\"become-host full\">\r\n                            <div className=\"host-container flex\">\r\n                                <div className=\"content-container flex\">\r\n                                    <h2>Become a host</h2>\r\n                                    <p>Earn extra income with Homie,\r\n                                <br /> join us and milion other hosts to unlock new opportunities, by sharing your space.<br />\r\n                                hosting can help you turn your extra space into extra income and pursue more of what you love.</p>\r\n                                    <button>Join us now!</button>\r\n                                </div>\r\n                                <div className=\"img-container flex\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n                    stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n                    getStays,\r\n                    setFilter\r\n                }\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)","export const cloudinaryService = {\r\n  uploadImg\r\n}\r\nfunction uploadImg(ev) {\r\n  const CLOUD_NAME = 'duhcvi6p4'\r\n  const PRESET_NAME = 'khbfu8ly'\r\n  const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n\r\n  const formData = new FormData();\r\n  \r\n  formData.append('file', ev.target.files[0])\r\n  formData.append('upload_preset', PRESET_NAME);\r\n\r\n  return fetch(UPLOAD_URL, {\r\n    method: 'POST',\r\n    body: formData\r\n  })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n\r\n      return res\r\n    })\r\n    .catch(err => console.error(err))\r\n}\r\n","import { httpService } from './http-service'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n}\r\n\r\nasync function getUsers() {\r\n    try {\r\n        return await httpService.get(`user`)\r\n    } catch (err) {\r\n        console.log('cant get users', err)\r\n    }\r\n}\r\n\r\nasync function getById(userId) {\r\n    try {\r\n        return await httpService.get(`user/${userId}`)\r\n    } catch (err) {\r\n        console.log('cant get user', err)\r\n    }\r\n}\r\n\r\nasync function remove(userId) {\r\n    try {\r\n        return await httpService.delete(`user/${userId}`)\r\n    } catch (err) {\r\n        console.log('not authorized!', err)\r\n    }\r\n}\r\n\r\nasync function update(userToUpdate) {\r\n    try {\r\n        const user = await httpService.put(`user/${userToUpdate._id}`, userToUpdate)\r\n        // Handle case in which admin updates other user's details\r\n        if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n    } catch (err) {\r\n        console.log('cant update', err)\r\n    }\r\n}\r\n\r\nasync function login(userCred) {\r\n    try {\r\n        const user = await httpService.post('auth/login', userCred)\r\n        if (user) return _saveLocalUser(user)\r\n    } catch (err) {\r\n        console.log('user not found', err)\r\n    }\r\n}\r\n\r\nasync function signup(userCred) {\r\n    try {\r\n        const newUser = {\r\n            ...userCred,\r\n            isHost: false,\r\n            imgUrl: userCred?.imgUrl ||'https://ozgrozer.github.io/100k-faces/0/0/000924.jpg'\r\n        }\r\n\r\n        const user = await httpService.post('auth/signup', newUser)\r\n        return _saveLocalUser(user)\r\n    } catch (err) {\r\n        console.log('cant add new user', err)\r\n    }\r\n}\r\n\r\nasync function logout() {\r\n    try {\r\n        sessionStorage.clear()\r\n        return await httpService.post('auth/logout')\r\n    } catch (err) {\r\n        console.log('no loged user', err)\r\n    }\r\n}\r\n\r\n// async function onBecomeHost(user) {\r\n\r\n// }\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser'))\r\n}","import { userService } from '../../services/user-service'\r\n\r\nexport function getUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: 'LOADING_START' })\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    } finally {\r\n      dispatch({ type: 'LOADING_DONE' })\r\n    }\r\n  }\r\n}\r\n\r\nexport function onRemoveUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function onLogin(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function onSignup(userCreds) {\r\n\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function onLogout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}","import io from 'socket.io-client'\r\n// import {httpService} from './http-service'\r\n\r\n// export const SOCKET_EMIT_USER_WATCH = 'user-watch'\r\n// export const SOCKET_EVENT_USER_UPDATED = 'user-updated'\r\n// export const SOCKET_EVENT_REVIEW_ADDED = 'review-added'\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n\r\n\r\n// var socketIsReady = false\r\n// socketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    async setup() {\r\n      if (socket) return\r\n      // await httpService.get('setup-session')\r\n      socket = io(baseUrl)\r\n      // socket = io(baseUrl, { reconnection: false})\r\n      // socketIsReady = true;\r\n    },\r\n    async on(eventName, cb) {\r\n      if (!socket) await socketService.setup()\r\n      socket.on(eventName, cb)\r\n    },\r\n    async off(eventName, cb=null) {\r\n      if (!socket) await socketService.setup()\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    async emit(eventName, data) {\r\n      if (!socket) await socketService.setup()\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n      // socketIsReady = false\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// // eslint-disable-next-line\r\n// function createDummySocketService() {\r\n//   var listenersMap = {}\r\n//   const socketService = {\r\n//     listenersMap,\r\n//     setup() {\r\n//       listenersMap = {}\r\n//     },\r\n//     terminate() {\r\n//       this.setup()\r\n//     },\r\n//     on(eventName, cb) {\r\n//       listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n//     },\r\n//     off(eventName, cb) {\r\n//       if (!listenersMap[eventName]) return\r\n//       if (!cb) delete listenersMap[eventName]\r\n//       else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n//     },\r\n//     emit(eventName, data) {\r\n//       if (!listenersMap[eventName]) return\r\n//       listenersMap[eventName].forEach(listener => {\r\n//         listener(data)\r\n//       })\r\n//     },\r\n//     debugMsg() {\r\n//       this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n//     },\r\n//   }\r\n//   return socketService\r\n// }\r\n\r\n\r\n// // Basic Tests\r\n// function cb(x) {console.log(x)}\r\n// socketService.on('baba', cb)\r\n// socketService.on('mama', cb)\r\n// socketService.on('lala', cb)\r\n// socketService.emit('baba', 'DATA')\r\n// // socketService.off('baba', cb)\r\n\r\n\r\n","import React from 'react'\r\nimport { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { cloudinaryService } from '../services/cloudinary-service'\r\nimport { onLogout, onSignup, onLogin } from '../store/actions/user.actions'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { socketService } from '../services/socket-service'\r\n\r\nclass _LoginSignup extends Component {\r\n\r\n    state = {\r\n        isSignup: '',\r\n        isOpen: false,\r\n        userInfo: {\r\n            fullname: '',\r\n            username: '',\r\n            password: '',\r\n            imgUrl: ''\r\n        },\r\n        credentials: {\r\n            username: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const isSignup = this.props.match.path === '/login' ? 'login' : 'signup'\r\n        this.setState({ isSignup })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.classList.remove('header-home-mode-open')\r\n        document.body.classList.remove('header-onclick-mode')\r\n    }\r\n\r\n    handleClickToggle = () => {\r\n        this.setState({ isOpen: !this.state.isOpen })\r\n    }\r\n\r\n    handleChange = async (ev) => {\r\n        const { target } = ev\r\n        const field = target.name\r\n        const value = target.value\r\n        const { isSignup, credentials, userInfo } = this.state\r\n\r\n        if (isSignup === 'login') {\r\n            this.setState({ credentials: { ...credentials, [field]: value } })\r\n        } else {\r\n\r\n            this.setState({ userInfo: { ...userInfo, [field]: value } })\r\n\r\n            if (target.type === 'file') {\r\n                const pic = await cloudinaryService.uploadImg(ev)\r\n                this.setState({ userInfo: { ...userInfo, imgUrl: pic.url } })\r\n            }\r\n        }\r\n    }\r\n\r\n    onSubmitUser = async ev => {\r\n        ev.preventDefault()\r\n        const {\r\n            isSignup,\r\n            userInfo,\r\n            credentials\r\n        } = this.state\r\n        const { onSignup, onLogin } = this.props\r\n        isSignup === 'login' ? await onLogin(credentials) : await onSignup(userInfo)\r\n        \r\n        if (this.props.loggedInUser) socketService.emit('LOGIN', this.props.loggedInUser)\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    render() {\r\n        const { isSignup } = this.state\r\n        return (\r\n            <div className=\"log-page-container flex align-center justify-center full\">\r\n                <div className=\"form-filter\"></div>\r\n                { isSignup === 'signup' &&\r\n                    <section className=\"sign-up flex\">\r\n                        <FontAwesomeIcon icon={faUserCircle} size=\"3x\" />\r\n                        <form\r\n                            className=\"flex\"\r\n                            onSubmit={this.onSubmitUser}\r\n                        >\r\n                            <label htmlFor=\"fullname\">Fullname</label>\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                type=\"text\"\r\n                                name=\"fullname\"\r\n                                id=\"fullname\"\r\n                            />\r\n\r\n                            <label htmlFor=\"username\">Username</label>\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                id=\"username\"\r\n                            />\r\n\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                type=\"password\"\r\n                                autoComplete=\"none\"\r\n                                name=\"password\"\r\n                                id=\"password\"\r\n                            />\r\n\r\n                            <div className=\"btn-container flex \">\r\n                                <div className=\"btn-upload\">\r\n                                    <label name=\"img-upload\" htmlFor=\"upload\">\r\n                                        upload your image\r\n                                    </label>\r\n                                    <input\r\n                                        id=\"upload\"\r\n                                        type=\"file\"\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                                <button className=\"btn\">Submit</button>\r\n                            </div>\r\n                        </form>\r\n                    </section>}\r\n\r\n                { isSignup === 'login' &&\r\n                    <section className=\"log-in flex\">\r\n                        <FontAwesomeIcon icon={faUserCircle} size=\"3x\" />\r\n                        <form\r\n                            onSubmit={this.onSubmitUser}\r\n                            className=\"flex\"\r\n                        >\r\n                            <label htmlFor=\"username\">Username</label>\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                type=\"text\"\r\n                                autoComplete=\"none\"\r\n                                name=\"username\"\r\n                                id=\"username\"\r\n                            />\r\n\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                autoComplete=\"none\"\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                id=\"password\"\r\n                            />\r\n\r\n                            <button className=\"btn\">Submit</button>\r\n                        </form>\r\n                    </section>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onLogout,\r\n    onSignup,\r\n    onLogin\r\n}\r\n\r\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(_LoginSignup)","import { Component } from 'react'\r\nimport Select from 'react-select'\r\n\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nexport class StayFilterStayType extends Component {\r\n\r\n    state = {\r\n        isOpen: false,\r\n    }\r\n\r\n    closePopover = () => {\r\n        this.setState({ isOpen: false })\r\n    }\r\n\r\n    filterAndClose = ev => {\r\n        this.props.onFilter(ev)\r\n        this.closePopover()\r\n    }\r\n\r\n    render() {\r\n\r\n        const options = [\r\n            { value: '', label: 'Any kind' },\r\n            { value: 'Apartment', label: 'Apartment' },\r\n            { value: 'Entire home', label: 'Entire home' },\r\n            { value: 'Studio', label: 'Studio' },\r\n            { value: 'Shared apartment', label: 'Shared apartment' }\r\n        ]\r\n\r\n        return (\r\n            <div className=\"popover-container-staytype\">\r\n                <button\r\n                    className=\"btn-group-button\"\r\n                    onClick={() => this.setState({ isOpen: true })}\r\n                >\r\n                    Stay type\r\n                </button>\r\n                {this.state.isOpen &&\r\n                    <ClickAwayListener onClickAway={this.closePopover}>\r\n                        <div className=\"stay-filter-popover flex column\">\r\n                            <h4>4 types of compounds at your service.</h4>\r\n                            <Select\r\n                                options={options}\r\n                                onChange={this.props.handleChange}\r\n                                classNamePrefix=\"select\"\r\n                                className=\"basic-single\"\r\n                            />\r\n                            <div className=\"separator\"></div>\r\n                            <button\r\n                                className=\"save-filter-btn\"\r\n                                onClick={(ev) => this.filterAndClose(ev)}\r\n                            >\r\n                                Save\r\n                        </button>\r\n                        </div>\r\n                    </ClickAwayListener>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\nimport { Checkbox } from '@material-ui/core'\r\n\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nexport class StayFilterRules extends Component {\r\n\r\n    state = {\r\n        isOpen: false,\r\n    }\r\n\r\n    closePopover = () => {\r\n        this.setState({ isOpen: false })\r\n    }\r\n\r\n    filterAndClose = ev => {\r\n        this.props.onFilter(ev)\r\n        this.closePopover()\r\n    }\r\n\r\n    render() {\r\n\r\n        const { isPets, isSmoking, handleChange } = this.props\r\n\r\n        const rules = [isPets, isSmoking]\r\n        const rulesLabel = ['Allow pets', 'Allow smoking']\r\n        const rulesNames = ['isPets', 'isSmoking']\r\n\r\n        return (\r\n            <div className=\"popover-container-houserules\">\r\n                <button\r\n                    className=\"btn-group-button\"\r\n                    onClick={() => this.setState({ isOpen: true })}\r\n                >\r\n                    House rules\r\n                </button>\r\n                {this.state.isOpen &&\r\n                    <ClickAwayListener onClickAway={this.closePopover}>\r\n                        <form className=\"stay-filter-popover flex column\">\r\n                            {rulesNames.map((rule, idx) => {\r\n                                return <label\r\n                                    key={idx}\r\n                                    htmlFor={`${rule}-id`}\r\n                                >\r\n                                    <Checkbox\r\n                                        id={`${rule}-id`}\r\n                                        name={rule}\r\n                                        onChange={handleChange}\r\n                                        checked={rules[idx]}\r\n                                        inputProps={{ 'aria-label': 'controlled-checkbox' }}\r\n                                        color=\"default\"\r\n                                    />\r\n                                    {rulesLabel[idx]}\r\n                                </label>\r\n                            })}\r\n                            <div className=\"separator\"></div>\r\n                            <button\r\n                                className=\"save-filter-btn\"\r\n                                onClick={(ev) => this.filterAndClose(ev)}\r\n                            >\r\n                                Save\r\n                            </button>\r\n                        </form>\r\n                    </ClickAwayListener>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\nimport { Checkbox } from '@material-ui/core'\r\n\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nexport class StayFilterAmenities extends Component {\r\n\r\n    state = {\r\n        isOpen: false,\r\n    }\r\n\r\n    closePopover = () => {\r\n        this.setState({ isOpen: false })\r\n    }\r\n\r\n    filterAndClose = ev => {\r\n        this.props.onFilter(ev)\r\n        this.closePopover()\r\n    }\r\n\r\n    render() {\r\n\r\n        const {\r\n            tv,\r\n            wifi,\r\n            kitchen,\r\n            accessibility,\r\n            airConditioner,\r\n            secured,\r\n            fastFood,\r\n            parking,\r\n            aidKit,\r\n            publicTransport,\r\n        } = this.props\r\n\r\n        const amenitiesName = [\r\n            'tv',\r\n            'wifi',\r\n            'kitchen',\r\n            'accessibility',\r\n            'airConditioner',\r\n            'secured',\r\n            'fastFood',\r\n            'parking',\r\n            'aidKit',\r\n            'publicTransport',\r\n        ]\r\n\r\n        const amenitiesLabel = [\r\n            'Tv',\r\n            'Wifi',\r\n            'Kitchen',\r\n            'Accessibility',\r\n            'Air conditioner',\r\n            'Secured',\r\n            'Fast food',\r\n            'Parking',\r\n            'Aid Kit',\r\n            'Public transport',\r\n        ]\r\n\r\n        const amenities = [\r\n            tv,\r\n            wifi,\r\n            kitchen,\r\n            accessibility,\r\n            airConditioner,\r\n            secured,\r\n            fastFood,\r\n            parking,\r\n            aidKit,\r\n            publicTransport,\r\n        ]\r\n\r\n        return (\r\n            <div className=\"popover-container-amenities\">\r\n                <button\r\n                    className=\"btn-group-button\"\r\n                    onClick={() => this.setState({ isOpen: true })}\r\n                >\r\n                    Amenities\r\n                </button>\r\n                {this.state.isOpen &&\r\n                    <ClickAwayListener onClickAway={this.closePopover}>\r\n                        <form className=\"stay-filter-popover flex column\">\r\n                            <div className=\"amenities-grid\">\r\n                                {amenitiesName.map((amenity, idx) => {\r\n                                    return <label\r\n                                        key={idx}\r\n                                        htmlFor={`${amenity}-id`}\r\n                                    >\r\n                                        <Checkbox\r\n                                            id={`${amenity}-id`}\r\n                                            name={amenity}\r\n                                            onChange={this.props.handleChange}\r\n                                            inputProps={{ 'aria-label': 'checkbox with default color' }}\r\n                                            color=\"default\"\r\n                                            checked={amenities[idx]}\r\n                                        />\r\n                                        {amenitiesLabel[idx]}\r\n                                    </label>\r\n                                })}\r\n                            </div>\r\n                            <div className=\"separator\"></div>\r\n                            <button\r\n                                className=\"save-filter-btn\"\r\n                                onClick={(ev) => this.filterAndClose(ev)}\r\n                            >\r\n                                Save\r\n                            </button>\r\n                        </form>\r\n                    </ClickAwayListener>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\nimport { Slider } from '@material-ui/core'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nexport class StayFilterPriceSlider extends Component {\r\n\r\n    state = {\r\n        isOpen: false,\r\n    }\r\n\r\n    closePopover = () => {\r\n        this.setState({ isOpen: false })\r\n    }\r\n\r\n    filterAndClose = ev => {\r\n        this.props.onFilter(ev)\r\n        this.closePopover()\r\n    }\r\n\r\n    render() {\r\n\r\n        const { minPrice, maxPrice, handleChange } = this.props\r\n        const value = [minPrice, maxPrice]\r\n        const max = 1500\r\n\r\n        return (\r\n            <div className=\"popover-container-priceslider\">\r\n                <button\r\n                    className=\"btn-group-button\"\r\n                    onClick={() => this.setState({ isOpen: true })}\r\n                >\r\n                    Price\r\n                </button>\r\n                {this.state.isOpen &&\r\n                    <ClickAwayListener onClickAway={this.closePopover}>\r\n                        <div className=\"stay-filter-popover flex column\">\r\n                            <h4>The average nightly price is $652.</h4>\r\n                            <Slider\r\n                                max={max}\r\n                                value={value}\r\n                                onChange={handleChange}\r\n                                valueLabelDisplay=\"on\"\r\n                                aria-labelledby=\"range-slider\"\r\n                            />\r\n                            <div className=\"separator\"></div>\r\n                            <button\r\n                                className=\"save-filter-btn\"\r\n                                onClick={(ev) => this.filterAndClose(ev)}\r\n                            >\r\n                                Save\r\n                            </button>\r\n                        </div>\r\n                    </ClickAwayListener>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setFilter, getStays } from '../store/actions/stay.actions'\r\n\r\nimport { StayFilterStayType } from './StayFilterStayType.jsx'\r\nimport { StayFilterRules } from './StayFilterRules.jsx'\r\nimport { StayFilterAmenities } from './StayFilterAmenities.jsx'\r\nimport { StayFilterPriceSlider } from './StayFilterPriceSlider.jsx'\r\n\r\nclass _StayFilter extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            type: '',\r\n            minPrice: 0,\r\n            maxPrice: 1500,\r\n            isPets: false,\r\n            isSmoking: false,\r\n            tv: false,\r\n            wifi: false,\r\n            kitchen: false,\r\n            accessibility: false,\r\n            airConditioner: false,\r\n            secured: false,\r\n            fastFood: false,\r\n            parking: false,\r\n            aidKit: false,\r\n            publicTransport: false,\r\n        }\r\n    }\r\n\r\n    handleChange = (ev, price) => {\r\n\r\n        const filterBy = this.state.filterBy\r\n        let value;\r\n        let field;\r\n\r\n        if (ev.label) {\r\n            this.setState({\r\n                filterBy: { ...filterBy, type: ev.value }\r\n            })\r\n            return\r\n        }\r\n        if (price && ev.type === \"mousemove\") {\r\n            const [minPrice, maxPrice] = price\r\n            this.setState({\r\n                filterBy: { ...filterBy, minPrice, maxPrice }\r\n            })\r\n            return\r\n        }\r\n\r\n        value = ev.target.value\r\n        field = ev.target.name\r\n\r\n        if (ev.target.checked) value = ev.target.checked\r\n\r\n        this.setState({\r\n            filterBy: { ...filterBy, [field]: value }\r\n        })\r\n    }\r\n\r\n    onFilter = async ev => {\r\n        ev.preventDefault()\r\n        await this.props.setFilter(this.state.filterBy)\r\n        this.props.getStays(this.props.filterBy)\r\n    }\r\n\r\n    render() {\r\n    \r\n        const { filterBy } = this.state\r\n        const {\r\n            type,\r\n            minPrice,\r\n            maxPrice,\r\n            isPets,\r\n            isSmoking,\r\n            tv,\r\n            wifi,\r\n            kitchen,\r\n            accessibility,\r\n            airConditioner,\r\n            secured,\r\n            fastFood,\r\n            parking,\r\n            aidKit,\r\n            publicTransport,\r\n        } = filterBy\r\n\r\n        const city = this.props.filterBy.city\r\n\r\n        return (\r\n            <section className=\"stay-filter\">\r\n                <h2 className=\"filter-header\">\r\n                    {city ? `Stays in ${city}` : 'Our Stays'}\r\n                </h2>\r\n                <div className=\"btn-group flex\">\r\n\r\n                    <StayFilterPriceSlider\r\n                        minPrice={minPrice}\r\n                        maxPrice={maxPrice}\r\n                        handleChange={this.handleChange}\r\n                        onFilter={this.onFilter} />\r\n\r\n                    <StayFilterStayType\r\n                        type={type}\r\n                        handleChange={this.handleChange}\r\n                        onFilter={this.onFilter} />\r\n\r\n                    <StayFilterRules\r\n                        isPets={isPets}\r\n                        isSmoking={isSmoking}\r\n                        handleChange={this.handleChange}\r\n                        onFilter={this.onFilter} />\r\n\r\n                    <StayFilterAmenities\r\n                        tv={tv}\r\n                        wifi={wifi}\r\n                        kitchen={kitchen}\r\n                        accessibility={accessibility}\r\n                        airConditioner={airConditioner}\r\n                        secured={secured}\r\n                        fastFood={fastFood}\r\n                        parking={parking}\r\n                        aidKit={aidKit}\r\n                        publicTransport={publicTransport}\r\n                        handleChange={this.handleChange}\r\n                        onFilter={this.onFilter} />\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        filterBy: state.stayModule.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setFilter,\r\n    getStays\r\n}\r\n\r\nexport const StayFilter = connect(mapStateToProps, mapDispatchToProps)(_StayFilter)","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getStays } from '../store/actions/stay.actions'\r\n\r\nimport { StayList } from '../cmps/StayList.jsx'\r\nimport { StayFilter } from '../cmps/StayFilter.jsx'\r\nimport { Loader } from '../cmps/Loader.jsx'\r\n\r\nexport class _StayApp extends Component {\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        this.props.getStays(this.props.filterBy)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.classList.remove('header-home-mode-open')\r\n        document.body.classList.remove('header-onclick-mode')\r\n    }\r\n\r\n    onSetFilter = (filterBy) => {\r\n        this.props.getStays(filterBy)\r\n    }\r\n\r\n    render() {\r\n        const { stays } = this.props\r\n        if (!stays) return <Loader />\r\n\r\n        return (\r\n            <section className=\"stay-app \">\r\n                <StayFilter onSetFilter={this.onSetFilter} />\r\n                <StayList stays={stays} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getStays,\r\n}\r\n\r\nexport const StayApp = connect(mapStateToProps, mapDispatchToProps)(_StayApp)","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHandSparkles, faHome, faBook } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport function AssetDetails({ type, houseRules }) {\r\n\r\n    let assetTypeDesc\r\n    let houseRulesDesc\r\n\r\n    switch (type) {\r\n        case 'Entire home':\r\n            assetTypeDesc = 'Youll have the whole compound to yourself.'\r\n            break;\r\n        case 'Apartment':\r\n            assetTypeDesc = 'Private room, cuzy and sweet.'\r\n        case 'Studio':\r\n            assetTypeDesc = 'Enjoy private room with a lot of space.'\r\n            break;\r\n        case 'Shared apartment':\r\n            assetTypeDesc = 'Sharing is caring, when individuals become a group.'\r\n            break;\r\n    }\r\n\r\n    if (houseRules.isSmoking && houseRules.isPets) {\r\n        houseRulesDesc = 'Host Allow smoking and pets in the compound.'\r\n    } else if (houseRules.isSmoking && !houseRules.isPets) {\r\n        houseRulesDesc = 'Host Allow smoking but pets is not a good idea.'\r\n    } else {\r\n        houseRulesDesc = 'Host doesnt allow pets or smoking around the compound.'\r\n    }\r\n\r\n    return (\r\n        <div className=\"about-asset-container\">\r\n            <div>\r\n                <FontAwesomeIcon icon={faHome} size=\"2x\" />\r\n                <div>\r\n                    <h4>{type}</h4>\r\n                    <p>{assetTypeDesc}</p>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <FontAwesomeIcon icon={faHandSparkles} size=\"2x\" />\r\n                <div>\r\n                    <h4>Enhanced Clean</h4>\r\n                    <p>This host committed to Airdod's 5-step enhanced cleaning process.</p>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <FontAwesomeIcon icon={faBook} size=\"2x\" />\r\n                <div>\r\n                    <h4>House rules</h4>\r\n                    <p>{houseRulesDesc}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import Avatar from '@material-ui/core/Avatar'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    size: {\r\n        width: theme.spacing(7),\r\n        height: theme.spacing(7),\r\n    },\r\n}))\r\n\r\nexport function AvatarSymbol({ url }) {\r\n    const classes = useStyles()\r\n    if (!url) url = \"https://100k-faces.glitch.me/random-image\"\r\n    return (\r\n        <Avatar className={classes.size} src={url} />\r\n    )\r\n}","import { Component } from 'react'\r\n\r\nexport class GradientBtn extends Component {\r\n\r\n    state = {\r\n        x: 0,\r\n        y: 0\r\n    };\r\n\r\n    handleMouseMove = e => {\r\n        this.setState({\r\n            x: e.clientX,\r\n            y: e.clientY\r\n        });\r\n\r\n        const mouseX = e.pageX - e.currentTarget.offsetLeft;\r\n        const mouseY = e.pageY - e.currentTarget.offsetTop;\r\n        e.currentTarget.style.cssText = `\r\n            --mouse-x: ${mouseX}; \r\n            --mouse-y: ${mouseY};\r\n            `;\r\n    };\r\n\r\n    render() {\r\n        const { isReserveMode } = this.props;\r\n        const txt = isReserveMode ? 'Reserve' : 'Check availability'\r\n        return (\r\n\r\n            <button className=\"gradientBtn\" onMouseMove={this.handleMouseMove}>\r\n                {txt}\r\n            </button>\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\n\r\nexport class StayGuestModal extends Component {\r\n\r\n    render() {\r\n        const { adults, children } = this.props\r\n\r\n        return (\r\n            <div className=\"stay-guest-modal\">\r\n                <div className=\"flex justify-space-between align-center\">\r\n                    <p>Adults</p>\r\n                    <div className=\"change-adult flex align-center\">\r\n\r\n                        <button\r\n                            name=\"adults\"\r\n                            value={adults - 1}\r\n                            onClick={this.props.handleChange}\r\n                        >\r\n                            -\r\n                        </button>\r\n\r\n                        <div>{adults}</div>\r\n\r\n                        <button\r\n                            name=\"adults\"\r\n                            value={adults + 1}\r\n                            onClick={this.props.handleChange}\r\n                        >\r\n                            +\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex justify-space-between align-center\">\r\n                    <p>Children</p>\r\n                    <div className=\"change-child flex align-center\">\r\n                        <button\r\n                            name=\"children\"\r\n                            value={children - 1}\r\n                            onClick={this.props.handleChange}\r\n                        >\r\n                            -\r\n                        </button>\r\n\r\n                        <div>{children}</div>\r\n\r\n                        <button\r\n                            name=\"children\"\r\n                            value={children + 1}\r\n                            onClick={this.props.handleChange}\r\n                        >\r\n                            +\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import { httpService } from './http-service'\r\nimport moment from 'moment'\r\n\r\n\r\nexport const orderService = {\r\n    query,\r\n    remove,\r\n    add,\r\n    update,\r\n    calcDays\r\n}\r\n\r\nasync function query(user = { _id: null, type: 'user' }) {\r\n    try {\r\n        return await httpService.get(`order`, user)\r\n    } catch (err) {\r\n        console.log('cant get orders', err)\r\n    }\r\n}\r\n\r\nasync function add(trip, stay, loggedInUser) {\r\n    const days = calcDays(trip.startDate, trip.endDate)\r\n    const totalPrice = stay.price * days + 5 + 10\r\n    const order = {\r\n        // _id: utilService.makeId(),\r\n        createdAt: Date.now(),\r\n        buyer: {\r\n            _id: loggedInUser._id,\r\n            fullName: loggedInUser.fullname,\r\n            imgUrl: loggedInUser.imgUrl\r\n        },\r\n        totalPrice,\r\n        city: stay.loc.city,\r\n        startDate: trip.startDate.format('YYYY-MM-DD'),\r\n        endDate: trip.endDate.format('YYYY-MM-DD'),\r\n        guests: {\r\n            adults: trip.adults,\r\n            children: trip.children,\r\n        },\r\n        stay: {\r\n            _id: stay._id,\r\n            name: stay.name,\r\n            price: stay.price\r\n        },\r\n        host: stay.host,\r\n        status: 'pending',\r\n    }\r\n    return await httpService.post(`order`, order)\r\n}\r\n\r\nfunction remove(orderId) {\r\n    try {\r\n        return httpService.delete(`order/${orderId}`)\r\n    } catch (err) {\r\n        console.log('not authorized!', err)\r\n    }\r\n}\r\n\r\nasync function update(order) {\r\n    return await httpService.put(`order/${order._id}`, order)\r\n}\r\n\r\nfunction calcDays(startDate, endDate) {\r\n    const firstDay = moment(startDate.format('YYYY-MM-DD'))\r\n    const lastDay = moment(endDate.format('YYYY-MM-DD'))\r\n    const days = lastDay.diff(firstDay, 'days') + 1\r\n    return days;\r\n}\r\n","import { orderService } from '../../services/order-service'\r\n\r\nexport function getOrders(user) {\r\n    return async dispatch => {\r\n        try {\r\n            const orders = await orderService.query(user)\r\n            dispatch({ type: 'SET_ORDERS', orders })\r\n        } catch (err) {\r\n            console.log('OrderActions: err in getOrders', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addOrder(trip, stay, loggedInUser) {\r\n    return async dispatch => {\r\n        try {\r\n            const addedOrder = await orderService.add(trip, stay, loggedInUser)\r\n            \r\n            dispatch({ type: 'ADD_ORDER', order: addedOrder })\r\n\r\n        } catch (err) {\r\n            console.log('OrderActions: err in addOrder', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateOrder(order) {\r\n    return async dispatch => {\r\n        try {\r\n            const updatedOrder = await orderService.update(order)\r\n            dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\r\n        } catch (err) {\r\n            console.log('OrderActions: err in update Order', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeOrder(orderId) {\r\n    return async dispatch => {\r\n        try {\r\n            await orderService.remove(orderId)\r\n            dispatch({ type: 'REMOVE_ORDER', orderId })\r\n        } catch (err) {\r\n            console.log('OrderActions: err in removeOrder', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { StayRate } from './StayRate'\r\nimport { GradientBtn } from './GradientBtn'\r\nimport { StayGuestModal } from './StayGuestModal'\r\nimport { DateRangePicker } from 'react-dates'\r\nimport { withSnackbar } from 'notistack'\r\nimport { addOrder } from '../store/actions/order.actions'\r\nimport { orderService } from '../services/order-service'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nimport { socketService } from '../services/socket-service'\r\n// import moment from 'moment'\r\n\r\nclass _StayBookModal extends Component {\r\n    state = {\r\n        trip: {\r\n            startDate: '',\r\n            endDate: '',\r\n            adults: 1,\r\n            children: 0,\r\n        },\r\n        filterBy: {\r\n            guest: 1\r\n        },\r\n        isModalOpen: false,\r\n        isReserveMode: false,\r\n    }\r\n\r\n    handleSubmit = (ev) => {\r\n        ev.preventDefault()\r\n        const { startDate, endDate } = this.state.trip\r\n        const { loggedInUser, stay } = this.props\r\n        // TODO: validate user is logged in\r\n        if (startDate && startDate !== '' && endDate && !this.state.isReserveMode) {\r\n            this.setState({ ...this.state, isReserveMode: true })\r\n            return\r\n        } else if (startDate && startDate && this.state.isReserveMode) {\r\n\r\n            this.props.enqueueSnackbar('Your order received.', {\r\n                variant: 'success',\r\n            })\r\n            setTimeout(() => this.props.closeSnackbar(), 3000)\r\n            const trip = { ...this.state.trip }\r\n            this.props.addOrder(trip, stay, loggedInUser);\r\n\r\n            const hostId = stay.host._id\r\n            socketService.emit('ORDER_OUT', { hostId, stay })\r\n            window.location.hash = '/'\r\n        } else {\r\n            this.props.enqueueSnackbar('Please enter all fields.', {\r\n                variant: 'error',\r\n            })\r\n            setTimeout(() => this.props.closeSnackbar(), 3000)\r\n        }\r\n    }\r\n\r\n    onOpenModal = (ev) => {\r\n        ev.preventDefault()\r\n        this.setState({ isModalOpen: true })\r\n    }\r\n\r\n    onCloseModal = (ev) => {\r\n        ev.preventDefault()\r\n        this.setState({ isModalOpen: false })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        ev.preventDefault()\r\n        const { name, value } = ev.target\r\n        this.setState({ ...this.state, trip: { ...this.state.trip, [name]: + value } })\r\n    }\r\n\r\n    render() {\r\n        const { stay } = this.props\r\n        const { isModalOpen, isReserveMode } = this.state\r\n        const { adults, children, startDate, endDate } = this.state.trip\r\n        let days = 1\r\n\r\n        if (!stay) return <p>Loading</p>\r\n        if (startDate && endDate) days = orderService.calcDays(startDate, endDate)\r\n\r\n        return (\r\n            <section className=\"stay-book-modal\">\r\n                <div className=\"modal-header\">\r\n                    <p>\r\n                        <span className=\"price\">\r\n                            ${stay.price}\r\n                        </span> / night\r\n                    </p>\r\n                    <StayRate stay={stay} />\r\n                </div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <span className=\"check\">CHECK IN</span>\r\n                    <span className=\"check\">CHECK OUT</span>\r\n                    <div className=\"form-select\">\r\n                        <div className=\"date-container\">\r\n\r\n                            <DateRangePicker\r\n                                readOnly\r\n                                displayFormat=\"MM-DD-YYYY\"\r\n                                startDateId=\"your_unique_start_date_id\"\r\n                                startDate={this.state.trip.startDate}\r\n                                endDate={this.state.trip.endDate}\r\n                                endDateId=\"your_unique_end_date_id\"\r\n\r\n                                onDatesChange={({ startDate, endDate }) => this.setState({\r\n                                    ...this.state, trip: { ...this.state.trip, startDate, endDate }\r\n                                })}\r\n\r\n                                focusedInput={this.state.focusedInput}\r\n                                onFocusChange={focusedInput => this.setState({ focusedInput })}\r\n                                startDatePlaceholderText=\"Add date\"\r\n                                endDatePlaceholderText=\"Add date\"\r\n                                noBorder\r\n                                inputIconPosition=\"after\"\r\n                                small\r\n                            />\r\n                        </div>\r\n                        <div className=\"guest-container\">\r\n                            <span className=\"guests\">GUESTS</span>\r\n                            <button\r\n                                className=\"btn-guests\"\r\n                                onClick={this.onOpenModal}\r\n                            >\r\n                                {this.state.trip.adults + this.state.trip.children}\r\n                            </button>\r\n                            {isModalOpen &&\r\n                                <ClickAwayListener onClickAway={this.onCloseModal}>\r\n                                    <StayGuestModal\r\n                                        handleChange={this.handleChange}\r\n                                        adults={adults}\r\n                                        children={children}\r\n\r\n                                    />\r\n                                </ClickAwayListener>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                    <GradientBtn isReserveMode={isReserveMode} />\r\n\r\n                    {isReserveMode &&\r\n                        <div className=\"reserve-mode\">\r\n                            <p>You won't be charged yet</p>\r\n                            <div>\r\n                                <span>${stay.price} x {days} nights</span>\r\n                                <span>${stay.price * days}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>Service fee</span>\r\n                                <span>$5</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>Occupancy taxes and fees</span>\r\n                                <span>$10</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>Total</span>\r\n                                <span>${stay.price * days + 5 + 10}</span>\r\n                            </div>\r\n                        </div>}\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    addOrder\r\n}\r\n\r\nexport const StayBookModal = connect(mapStateToProps, mapDispatchToProps)(withSnackbar(_StayBookModal));","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n    faShieldAlt,\r\n    faWifi,\r\n    faParking,\r\n    faBus,\r\n    faPizzaSlice,\r\n    faTv,\r\n    faUtensils,\r\n    faSnowflake,\r\n    faWheelchair,\r\n    faBriefcaseMedical\r\n} from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport function Amenities({ amenities }) {\r\n\r\n    const {\r\n        accessibility,\r\n        aidKit,\r\n        airConditioner,\r\n        fastFood,\r\n        kitchen,\r\n        parking,\r\n        publicTransport,\r\n        secured,\r\n        tv,\r\n        wifi,\r\n    } = amenities\r\n\r\n    return (\r\n        <div className=\"amenities-container flex column\">\r\n            <h2>Amenities</h2>\r\n            <div className=\"flex\">\r\n                <div className=\"flex column\">\r\n                    <div className={`amenity-container flex align-center ${!secured && 'missing'} first`}>\r\n                        <FontAwesomeIcon icon={faShieldAlt} size=\"2x\" />\r\n                        <span>Compound is perfectly secured.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!wifi && 'missing'} first`}>\r\n                        <FontAwesomeIcon icon={faWifi} size=\"2x\" />\r\n                        <span>Free Wi-fi.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!parking && 'missing'} first`}>\r\n                        <FontAwesomeIcon icon={faParking} size=\"2x\" />\r\n                        <span>Free street parking.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!publicTransport && 'missing'} first`}>\r\n                        <FontAwesomeIcon icon={faBus} size=\"2x\" />\r\n                        <span>Public Transport on the street.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!fastFood && 'missing'} first`}>\r\n                        <FontAwesomeIcon icon={faPizzaSlice} size=\"2x\" />\r\n                        <span>Very close to fast food stores.</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex column second\">\r\n                    <div className={`amenity-container flex align-center ${!kitchen && 'missing'}`}>\r\n                        <FontAwesomeIcon icon={faUtensils} size=\"2x\" />\r\n                        <span>Kitchen.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!accessibility && 'missing'}`}>\r\n                        <FontAwesomeIcon icon={faWheelchair} size=\"2x\" />\r\n                        <span>Accessibility services.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!airConditioner && 'missing'}`}>\r\n                        <FontAwesomeIcon icon={faSnowflake} size=\"2x\" />\r\n                        <span>Air conditioner, hot and cold.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!tv && 'missing'}`}>\r\n                        <FontAwesomeIcon icon={faTv} size=\"2x\" />\r\n                        <span>TV with standard cable.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!aidKit && 'missing'}`}>\r\n                        <FontAwesomeIcon icon={faBriefcaseMedical} size=\"2x\" />\r\n                        <span>Aid kit for emergency.</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { AvatarSymbol } from './AvatarSymbol.jsx'\r\nimport { StayRate } from './StayRate.jsx'\r\n\r\nimport Rating from '@material-ui/lab/Rating'\r\nimport Box from '@material-ui/core/Box'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport Modal from 'react-modal'\r\nModal.setAppElement('#root')\r\n\r\nexport class Reviews extends Component {\r\n\r\n    state = {\r\n        modalIsOpen: false,\r\n        review: {\r\n            rate: null,\r\n            summary: ''\r\n        }\r\n    }\r\n\r\n    handleChange = ev => {\r\n        const field = ev.target.name\r\n        const value = ev.target.name === 'rate' ? +ev.target.value : ev.target.value\r\n        this.setState({ review: { ...this.state.review, [field]: value } })\r\n    }\r\n\r\n    onAddReview = ev => {\r\n        ev.preventDefault()\r\n    }\r\n\r\n    closeModal = ev => {\r\n        if ( ev.x > 495 && ev.x < 1023) return\r\n        this.setState({ modalIsOpen: false })\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({ modalIsOpen: true })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { reviews, stay } = this.props\r\n        const shortReviews = reviews.slice(0, 4)\r\n        return (\r\n            <div className=\"reviews-container\">\r\n                <StayRate\r\n                    stay={stay}\r\n                    isShowReviews={true}\r\n                />\r\n                <div>\r\n                    {reviews && shortReviews.map((review, idx) => {\r\n                        return <div key={idx} className=\"review-container flex column\">\r\n                            <div className=\"review-writer-container flex align-center\">\r\n                                <div>\r\n                                    <AvatarSymbol url={review.by.imgUrl} />\r\n                                </div>\r\n                                <div className=\"review-writer flex column\">\r\n                                    <span>{review.by.fullname}</span>\r\n                                    <span>{this.state.curTime}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <p>{review.txt}</p>\r\n                            </div>\r\n                        </div>\r\n                    })}\r\n                </div>\r\n\r\n                <button onClick={this.openModal}>Add review</button>\r\n\r\n                <Modal\r\n                    isOpen={this.state.modalIsOpen}\r\n                    className=\"review-modal\"\r\n                    overlayClassName=\"review-modal-overlay\"\r\n                >\r\n                    <h2>Add review</h2>\r\n                    <div className=\"review-writer-modal flex align-center\">\r\n                        <div>\r\n                            <AvatarSymbol />\r\n                        </div>\r\n                        <div className=\"review-writer-modal-details flex column\">\r\n                            <span>Asi ho gaon</span>\r\n                        </div>\r\n                    </div>\r\n                    <ClickAwayListener onClickAway={this.closeModal}>\r\n\r\n                        <form>\r\n                            <Box\r\n                                className=\"flex column\"\r\n                                component=\"fieldset\"\r\n                                mb={3}\r\n                                borderColor=\"transparent\"\r\n                            >\r\n                                <label\r\n                                    className=\"rating-box-label\"\r\n                                    htmlFor=\"review-rating\">Rate the host:</label>\r\n                                <Rating\r\n                                    id=\"review-rating\"\r\n                                    name=\"rate\"\r\n                                    value={this.state.review.rate}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </Box>\r\n                            <div className=\"flex column\">\r\n                                <label htmlFor=\"review-textarea\">Summary:</label>\r\n                                <textarea\r\n                                    id=\"review-textarea\"\r\n                                    onChange={this.handleChange}\r\n                                    type=\"text\"\r\n                                    name=\"summary\"\r\n                                    value={this.state.review.summary}\r\n                                    placeholder=\"Describe your expirience.\" />\r\n                            </div>\r\n                            <button\r\n                                onClick={this.onAddReview}\r\n                                className=\"add-review-btn\"\r\n                            >Add</button>\r\n                        </form>\r\n                    </ClickAwayListener>\r\n\r\n                    <button className=\"exit-modal-btn\" onClick={this.closeModal}>\r\n                        <FontAwesomeIcon icon={faTimes} size=\"2x\" />\r\n                    </button>\r\n                </Modal >\r\n\r\n            </div >\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react'\r\n\r\nclass _GoogleMap extends Component {\r\n\r\n    state = {\r\n        style: {\r\n            maxWidth: \"1280px\",\r\n            height: \"500px\",\r\n            overflowX: \"hidden\",\r\n            overflowY: \"hidden\"\r\n        },\r\n        pos: {\r\n            lat: 32.109333,\r\n            lng: 34.855499\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { lat, lng } = this.props.loc\r\n        const pos = { lat, lng }\r\n        this.setState({ pos })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"map-container flex\">\r\n                <Map\r\n                    google={this.props.google}\r\n                    zoom={13}\r\n                    initialCenter={{ lat: 13.736717, lng: 100.523186 }}\r\n                    center={this.state.pos}\r\n                    style={this.state.style}\r\n                >\r\n                    <Marker\r\n                        position={this.state.pos}\r\n                        name={'branch location'}\r\n                    />\r\n                    <InfoWindow />\r\n                </Map>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport const GoogleMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyCjIexPtvV4Y3_C8J8NR1yfnrQr5s1LibY')\r\n})(_GoogleMap)","import { Component } from 'react'\r\nimport { stayService } from '../services/stay-service'\r\nimport { AssetDetails } from '../cmps/AssetDetails.jsx'\r\nimport { StayRate } from '../cmps/StayRate.jsx'\r\nimport { AvatarSymbol } from '../cmps/AvatarSymbol.jsx'\r\nimport { StayBookModal } from '../cmps/StayBookModal.jsx'\r\nimport { Amenities } from '../cmps/Amenities.jsx'\r\nimport { LongTxt } from '../cmps/LongTxt.jsx'\r\nimport { Reviews } from '../cmps/Reviews.jsx'\r\nimport { GoogleMap } from '../cmps/GoogleMap.jsx'\r\nimport { Loader } from '../cmps/Loader.jsx'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart, faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport class StayDetails extends Component {\r\n\r\n    state = {\r\n        stay: {},\r\n        isShowMore: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setStayDetails()\r\n        window.scrollTo(0, 0)\r\n        document.body.classList.add('mini-header')\r\n        document.body.classList.remove('hide-mini-search')\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.classList.remove('header-home-mode-open')\r\n        document.body.classList.remove('header-onclick-mode')\r\n    }\r\n\r\n    async setStayDetails() {\r\n        const { id } = this.props.match.params\r\n        let stay = await stayService.getById(id)\r\n        this.setState({ stay })\r\n    }\r\n\r\n    isOverChars = (summary) => {\r\n        if (summary.length >= 150) return true\r\n        return false\r\n    }\r\n\r\n    render() {\r\n\r\n        const { stay } = this.state\r\n        const {\r\n            loc,\r\n            name,\r\n            type,\r\n            host,\r\n            imgUrls,\r\n            capacity,\r\n            houseRules,\r\n            amenities,\r\n            summary,\r\n            reviews\r\n        } = stay\r\n\r\n        if (!stay) return <Loader />\r\n\r\n        return (\r\n            <section className=\"stay-details-container\">\r\n                <div className=\"details-header-container\">\r\n                    <h1>{name}</h1>\r\n                    <div className=\"details-header-details flex justify-space-between\">\r\n                        <div className=\"details-header-desc flex\">\r\n                            <StayRate\r\n                                stay={stay}\r\n                                isShowReviews={true} />\r\n                            <span className=\"details-header-dot\"></span>\r\n                            {loc && <a className=\"details-header-tags\">\r\n                                {loc.address}</a>}\r\n                        </div>\r\n                        <button className=\"details-header-save flex align-center\">\r\n                            <FontAwesomeIcon icon={faHeart} />\r\n                            Save\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {imgUrls && <div className=\"details-gallery-container\">{\r\n                    imgUrls.map((imgUrl, idx) => {\r\n                        return <div\r\n                            key={idx}\r\n                            className={`details-img-container img-${idx + 1}`}\r\n                        >\r\n                            <img src={imgUrl} alt=\"details\"/>\r\n                        </div>\r\n                    })\r\n                }</div>}\r\n\r\n                <section className=\"host-main-container justify-space-between flex\">\r\n                    <div className=\"flex full column\">\r\n                        {host && <div className=\"host-header-container flex\">\r\n                            <div className=\"flex column full\">\r\n                                <h2>{type} hosted by {host.fullname}</h2>\r\n                                <span className=\"host-header-capacity\">Up to {capacity} guests</span>\r\n                            </div>\r\n                            <div>\r\n                                <AvatarSymbol />\r\n                            </div>\r\n                        </div>}\r\n\r\n                        <div>\r\n                            {houseRules && <AssetDetails\r\n                                type={type}\r\n                                houseRules={houseRules} />}\r\n                        </div>\r\n\r\n                        {summary && <div className=\"about-asset-desc\">\r\n                            {this.state.isShowMore ?\r\n                                <p>{summary}</p> : <LongTxt txt={summary} numOfChars={150} />}\r\n\r\n                            {this.isOverChars(summary) && <button onClick={() => {\r\n                                this.setState({ isShowMore: !this.state.isShowMore })\r\n                            }}>{this.state.isShowMore ? 'Show Less' : 'Show more'}\r\n                                <FontAwesomeIcon icon={faChevronRight} />\r\n                            </button>}\r\n                        </div>}\r\n\r\n                        {amenities && <div>\r\n                            <Amenities amenities={amenities} />\r\n                        </div>}\r\n                    </div>\r\n\r\n                    <div className=\"staybook-modal-container\">\r\n                        <StayBookModal stay={stay} />\r\n                    </div>\r\n                </section>\r\n\r\n                <section>\r\n                    {reviews && <Reviews\r\n                        stay={stay}\r\n                        reviews={reviews} />}\r\n                </section>\r\n\r\n                {loc && <section className=\"google-map-container\">\r\n                    <h2>Location</h2>\r\n                    <span>{loc.address}</span>\r\n                    <GoogleMap loc={loc} />\r\n                </section>}\r\n\r\n            </section>\r\n        )\r\n    }\r\n}","export function AddStay() {\r\n    return (\r\n        <section>\r\n            <p>Add Stay</p>\r\n        </section>\r\n    )\r\n}","export function UserStays() {\r\n    return (\r\n        <section>\r\n            <p>User Stays</p>\r\n        </section>\r\n    )\r\n}","export function HostHomes() {\r\n    return (\r\n        <section>\r\n            <p>HostHomes</p>\r\n        </section>\r\n    )\r\n}","export function Wishlist() {\r\n    return (\r\n        <section>\r\n            <p>Wishlist</p>\r\n        </section>\r\n    )\r\n}","import { socketService } from '../services/socket-service'\r\n\r\nexport function HostOrdersPreview({ order, updateOrder }) {\r\n    const guests = order.guests.adults + order.guests.children\r\n    const defaultImgUrl = order.buyer.imgUrl ? order.buyer.imgUrl : 'https://ozgrozer.github.io/100k-faces/0/0/000924.jpg'\r\n\r\n    function onSetStatus(ev) {\r\n        const updatedOrder = { ...order }\r\n        updatedOrder.status = ev.target.name\r\n        updateOrder(updatedOrder)\r\n        socketService.emit('ORDER_STATUS', updatedOrder)\r\n    }\r\n\r\n    return (\r\n        <div className=\"host-order-preview flex\">\r\n            <div className=\"img-container\">\r\n                <img src={defaultImgUrl} alt=\"user\" />\r\n            </div>\r\n            <div className=\"order-content\">\r\n                <h3>Requested by: {order.buyer.fullName}</h3>\r\n                <p>Expire in 12 hours</p>\r\n                <p>{guests} guests - {order.startDate} - {order.endDate} -\r\n                <span> {order.stay.name}</span>\r\n                </p>\r\n            </div>\r\n            {order.status === 'pending' && <p><button className=\"accepted\" name=\"accepted\" onClick={onSetStatus}>Accept</button> / <button className=\"rejected\" name=\"rejected\" onClick={onSetStatus}>Reject</button></p>}\r\n            {order.status !== 'pending' && <p className={order.status}>{order.status}</p>}\r\n        </div>\r\n    )\r\n}","import { HostOrdersPreview } from '../cmps/HostOrdersPreview.jsx'\r\n\r\nexport function HostOrders({ hostOrders, updateOrder }) {\r\n    if (!hostOrders) return <h1>Loading...</h1>\r\n    return (\r\n        <section>\r\n            {hostOrders.map(order => {\r\n                return <HostOrdersPreview order={order} key={order._id} updateOrder={updateOrder} />\r\n            })}\r\n        </section>\r\n    )\r\n}\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport function DashboardHeader({ stays, orders }) {\r\n    console.log('stays', stays, 'orders', orders)\r\n\r\n    function getMonthlyEarning() {\r\n        let totalEarning = 0;\r\n        const currMonth = new Date(Date.now()).getMonth() + 1\r\n        const currYear = new Date(Date.now()).getFullYear()\r\n        orders.forEach(order => {\r\n            const orderMonth = new Date(order.startDate).getMonth() + 1\r\n            const orderYear = new Date(order.startDate).getFullYear()\r\n            if (currMonth === orderMonth && currYear === orderYear) {\r\n                totalEarning += order.totalPrice\r\n            }\r\n        })\r\n        return totalEarning.toLocaleString('en-US')\r\n    }\r\n\r\n    function getTotalAvgRate() {\r\n        let totalRate = 0;\r\n        stays.forEach(stay => {\r\n            const rates = stay.reviews.map((review) => review.rate);\r\n            let stayAvgRate = rates.reduce((a, b) => a + b, 0)\r\n            totalRate += (stayAvgRate / rates.length)\r\n        })\r\n        let RateToDisplay = (totalRate / stays.length) ? (totalRate / stays.length).toFixed(1) : 0\r\n        // const reviews = rates\r\n        // return `${RateToDisplay} (${reviews})`\r\n        return RateToDisplay\r\n    };\r\n\r\n    function getOrdersStatus(status) {\r\n        const statusOrders = orders.filter(order => order.status === status)\r\n        return statusOrders.length\r\n    }\r\n\r\n    function getActiveGuests() {\r\n        const now = new Date(Date.now())\r\n        const activeUsers = orders.filter(order => {\r\n            const checkIn = new Date(order.startDate)\r\n            const checkOut = new Date(order.endDate)\r\n            return checkIn < now && checkOut > now\r\n        })\r\n        return activeUsers\r\n    }\r\n\r\n    return (\r\n        <section className=\"dashboard-header flex\">\r\n            <div>\r\n                <h3>Orders</h3>\r\n                <div className=\"orders-status-container flex\">\r\n                    <p><span>{orders.length}</span></p>\r\n                    <div className=\"status-circles flex\">\r\n                        <p title=\"pending\" className=\"pending circle\">{getOrdersStatus('pending')}</p>\r\n                        <p title=\"accepted\" className=\"accepted circle\">{getOrdersStatus('accepted')}</p>\r\n                        <p title=\"rejected\" className=\"rejected circle\">{getOrdersStatus('rejected')}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex column\">\r\n                <h3>Total rate</h3>\r\n                <div className=\"rate flex\">\r\n                    <FontAwesomeIcon icon={faStar} color='#FF385C' className=\"star-icon\" />\r\n                    <span>{getTotalAvgRate()}</span>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <h3>Monthly earning</h3>\r\n                <p><span>${getMonthlyEarning()}</span></p>\r\n            </div>\r\n\r\n            <div>\r\n                <h3>Active guests</h3>\r\n                <div className=\"active-users flex\">\r\n                    <span>{getActiveGuests().length}</span>\r\n                    <div className=\"images-container flex\">\r\n                        {getActiveGuests().map(order => {\r\n                            return (\r\n                                <div className=\"img-container\">\r\n                                    <img src={order.buyer.imgUrl} alt=\"guest\" key={order._id} />\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import { Component } from 'react'\r\nimport { NavLink, Route, Switch } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { getStays } from '../store/actions/stay.actions'\r\nimport { getUsers } from '../store/actions/user.actions'\r\nimport { getOrders, updateOrder } from '../store/actions/order.actions'\r\nimport { AddStay } from '../cmps/AddStay'\r\nimport { UserStays } from '../cmps/UserStays'\r\nimport { HostHomes } from '../cmps/HostHomes'\r\nimport { Wishlist } from '../cmps/Wishlist'\r\nimport { HostOrders } from '../cmps/HostOrders'\r\nimport { DashboardHeader } from '../cmps/DashboardHeader'\r\n\r\n\r\nclass _UserProfile extends Component {\r\n\r\n    componentDidMount() {\r\n        const { _id } = this.props.loggedInUser\r\n        this.props.getOrders(_id, 'user')\r\n    }\r\n\r\n    render() {\r\n        const { loggedInUser, orders, stays, updateOrder } = this.props\r\n        const { isHost } = loggedInUser\r\n        let hostOrders = orders.filter(order => {\r\n            return order.host._id === loggedInUser._id\r\n        })\r\n        hostOrders = hostOrders.sort((order1, order2) => {\r\n            return order2.createdAt - order1.createdAt\r\n        })\r\n        let HostStays = stays.filter(stay => {\r\n            return stay.host._id === loggedInUser._id\r\n        })\r\n        HostStays = HostStays.sort((stay1, stay2) => {\r\n            return stay2.createdAt - stay1.createdAt\r\n        })\r\n\r\n        return (\r\n            <section className=\"user-profile\">\r\n                <aside>\r\n                    {isHost && <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/orders\">Orders</NavLink>}\r\n                    {isHost && <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/myhomes\">My Homes</NavLink>}\r\n                    {isHost && <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/add\">Add stay</NavLink>}\r\n                    <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/mystays\">My Stays</NavLink>\r\n                    {/* <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/wishlist\">Wishlist</NavLink> */}\r\n                </aside>\r\n                <main>\r\n                    <DashboardHeader stays={HostStays} orders={hostOrders} />\r\n                    <Switch>\r\n                        <Route exact path=\"/userprofile/add\" component={AddStay} />\r\n                        <Route exact path=\"/userprofile/myhomes\" component={HostHomes} />\r\n                        <Route exact path=\"/userprofile/mystays\" component={UserStays} />\r\n                        <Route exact path=\"/userprofile/wishlist\" component={Wishlist} />\r\n                        <Route exact path=\"/userprofile/orders\" render={(props) => <HostOrders  {...props} hostOrders={hostOrders} updateOrder={updateOrder} />} />\r\n                    </Switch>\r\n                </main>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        orders: state.orderModule.orders,\r\n        stays: state.stayModule.stays\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getStays,\r\n    getUsers,\r\n    getOrders,\r\n    updateOrder\r\n}\r\n\r\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserProfile)","import { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction _UserOrderPreview({ order, stays }) {\r\n    const stay = getStayById(order.stay._id)\r\n    const statusTxt = getStatusTxt()\r\n    var statusClassName\r\n    function getStayById(stayId) {\r\n        const stay = stays.find((stay) => {\r\n            return stayId === stay._id\r\n        })\r\n        return stay\r\n    }\r\n\r\n    function getStatusTxt() {\r\n        let statusTxt;\r\n        if (order.status === 'accepted') {\r\n            statusTxt = 'Order accepted'\r\n            statusClassName = 'accepted'\r\n        } else if (order.status === 'rejected') {\r\n            statusTxt = 'Order rejected'\r\n            statusClassName = 'rejected'\r\n        } else {\r\n            statusTxt = 'Waiting for approval'\r\n            statusClassName = 'pending'\r\n        }\r\n        return statusTxt\r\n    }\r\n\r\n    // TODO: put loader\r\n    if (!stay) return <h1></h1>\r\n    return (\r\n        <section className=\"user-order-preview\">\r\n            <Link to={`stay/${stay._id}`}>\r\n                <div className=\"img-container\">\r\n                    <img src={stay.imgUrls[0]} alt=\"home\" />\r\n                </div>\r\n                <div className=\"info\">\r\n                    <p className=\"dates\">{order.startDate} - {order.endDate}</p>\r\n                    <p className=\"stay-name\">{order.stay.name}</p>\r\n                    <p className={statusClassName + ' order-status'}>{statusTxt}</p>\r\n                </div>\r\n            </Link>\r\n        </section>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays\r\n    }\r\n}\r\n\r\nexport const UserOrderPreview = connect(mapStateToProps)(_UserOrderPreview)","export default __webpack_public_path__ + \"static/media/trip.a90c384c.png\";","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getOrders } from '../store/actions/order.actions'\r\nimport { getStays } from '../store/actions/stay.actions'\r\nimport { UserOrderPreview } from '../cmps/UserOrderPreview.jsx'\r\nimport trip from '../assets/img/trip.png'\r\n\r\nexport class _StayTrips extends Component {\r\n\r\n    componentDidMount() {\r\n        const { _id } = this.props.loggedInUser\r\n        this.props.getOrders(_id, 'user')\r\n        this.props.getStays()\r\n    }\r\n    getUserOrders = () => {\r\n        const { orders } = this.props\r\n        const { loggedInUser } = this.props\r\n        const userOrders = orders.filter(order => {\r\n            return order.buyer._id === loggedInUser._id\r\n        }).sort((order1, order2) => {\r\n            return order2.createdAt - order1.createdAt\r\n        })\r\n        return userOrders\r\n    }\r\n\r\n    render() {\r\n        const userOrders = this.getUserOrders()\r\n        // TODO: put loader\r\n        if (!userOrders) return <h1>Loading</h1>\r\n        return (\r\n            <section className=\"stay-trips\">\r\n                <h1>Trips</h1>\r\n                <div className=\"preview-container\">\r\n                    {userOrders.map(order => {\r\n                        return <UserOrderPreview order={order} key={order._id} />\r\n                    })}\r\n                </div>\r\n                <div><img src={trip} alt=\"order\" /></div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        orders: state.orderModule.orders,\r\n        stays: state.stayModule.stays\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getOrders,\r\n    getStays\r\n}\r\n\r\nexport const StayTrips = connect(mapStateToProps, mapDispatchToProps)(_StayTrips)","import { Home } from './pages/Home.jsx'\r\nimport { LoginSignup } from './pages/LoginSignup.jsx'\r\nimport { StayApp } from './pages/StayApp.jsx'\r\nimport { StayDetails } from './pages/StayDetails.jsx'\r\nimport { UserProfile } from './pages/UserProfile.jsx'\r\nimport { StayTrips } from './pages/StayTrips.jsx'\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/stay/:id',\r\n        component: StayDetails,\r\n    },\r\n    {\r\n        path: '/stay',\r\n        component: StayApp,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: LoginSignup,\r\n    },\r\n    {\r\n        path: '/signup',\r\n        component: LoginSignup,\r\n    },\r\n    {\r\n        path: '/userprofile',\r\n        component: UserProfile,\r\n    },\r\n    {\r\n        path: '/trips',\r\n        component: StayTrips,\r\n    },\r\n    {\r\n        path: '/',\r\n        component: Home,\r\n    },\r\n]","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { getStays } from '../store/actions/stay.actions'\r\n\r\nimport 'react-dates/initialize'\r\nimport 'react-dates/lib/css/_datepicker.css'\r\nimport { DateRangePicker } from 'react-dates'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass _StaySearch extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            city: '',\r\n            guest: 0\r\n        }\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const { name, value } = target\r\n        const { filterBy } = this.state\r\n        this.setState({ filterBy: { ...filterBy, [name]: value } })\r\n    }\r\n\r\n    onSubmitStay = ev => {\r\n        ev.preventDefault()\r\n        const { city, guest } = this.state.filterBy\r\n        const { startDate, endDate } = this.state\r\n        const filterBy = {\r\n            startDate: startDate?._d || '',\r\n            endDate: endDate?._d || '',\r\n            city,\r\n            guest: +guest\r\n        }\r\n        this.props.getStays(filterBy)\r\n    }\r\n\r\n    handleSearchMini = () => {\r\n        document.body.classList.add('header-onclick-mode')\r\n        document.addEventListener('mouseup', this.closeHeaderOnclickMode);\r\n    }\r\n\r\n    closeHeaderOnclickMode = ev => {\r\n        const node = this.props.node\r\n        if (node.current.contains(ev.target)) {\r\n            return\r\n        } else {\r\n            document.body.classList.remove('header-onclick-mode')\r\n            document.removeEventListener('mouseup', this.closeHeaderOnclickMode);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { city } = this.props.filterBy\r\n        return (\r\n            <section className=\"stay-search flex align-center\">\r\n                <div className=\"search-mini\"\r\n                    onClick={this.handleSearchMini}\r\n                >\r\n                    {city || 'Start your search'}\r\n                    <FontAwesomeIcon icon={faSearch} />\r\n                </div>\r\n                \r\n                <form\r\n                    className={`flex`}\r\n                    onSubmit={this.onSubmitStay}\r\n                >\r\n                    <div className=\"search-input country-input flex column justify-center\">\r\n                        <div className=\"location-label\">\r\n                            <label htmlFor=\"location\">Location</label>\r\n                        </div>\r\n                        <div className=\"city\">\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                name=\"city\"\r\n                                id=\"location\"\r\n                                placeholder={city || \"Where are you going?\"} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"separator-vertical\"></div>\r\n                    <div className=\"search-input date-input flex column justify-center\">\r\n                        <div className=\"dates-label\">\r\n                            <label>Dates</label>\r\n                        </div>\r\n                        <DateRangePicker\r\n                            startDateId=\"your_unique_start_date_id\"\r\n                            startDate={this.state.startDate}\r\n                            endDateId=\"your_unique_end_date_id\"\r\n                            endDate={this.state.endDate}\r\n                            onDatesChange={\r\n                                ({ startDate, endDate }) => this.setState({ startDate, endDate })}\r\n                            focusedInput={this.state.focusedInput}\r\n                            onFocusChange={focusedInput => this.setState({ focusedInput })}\r\n                            startDatePlaceholderText=\"Check in\"\r\n                            endDatePlaceholderText=\"Check out\"\r\n                            noBorder\r\n                            inputIconPosition=\"after\"\r\n                            small\r\n                        />\r\n                    </div>\r\n                    <div className=\"separator-vertical\"></div>\r\n                    <div className=\"search-input guest-input flex column justify-center\">\r\n                        <div className=\"guests-label\">\r\n                            <label htmlFor=\"guest\">Guests</label>\r\n                        </div>\r\n                        <div className=\"guest-input\">\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                name=\"guest\"\r\n                                id=\"guest\"\r\n                                placeholder=\"1 guest\" />\r\n                        </div>\r\n                    </div>\r\n                    <button>\r\n                        <FontAwesomeIcon icon={faSearch} size=\"2x\" />\r\n                    </button>\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        filterBy: state.stayModule.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getStays,\r\n}\r\n\r\nexport const StaySearch = connect(mapStateToProps, mapDispatchToProps)(_StaySearch)","import React, { Component } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { StaySearch } from './StaySearch'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { onLogout } from '../store/actions/user.actions'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCampground } from '@fortawesome/free-solid-svg-icons'\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\r\nimport { AvatarSymbol } from './AvatarSymbol'\r\nimport Badge from '@material-ui/core/Badge'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nclass _AppHeader extends Component {\r\n\r\n    state = {\r\n        node: React.createRef(),\r\n        isOpen: false,\r\n        msgNum: 0\r\n    }\r\n\r\n    onShowUserMenu = () => {\r\n        this.setState({ isOpen: true })\r\n    }\r\n\r\n    onCloseUserMenu = () => {\r\n        this.setState({ isOpen: false })\r\n    }\r\n\r\n    render() {\r\n        const { loggedInUser, onLogout } = this.props\r\n        const { msgNum } = this.state\r\n\r\n        return (\r\n            <header className=\"flex\" ref={this.state.node}>\r\n                <nav className=\"nav-header flex align-center\">\r\n                    <NavLink to=\"/\">\r\n                        <h1 className=\"logo\">\r\n                            <FontAwesomeIcon icon={faCampground} size=\"2x\" />\r\n                            Homie\r\n                        </h1>\r\n                    </NavLink>\r\n                    <StaySearch node={this.state.node} />\r\n                    <ul className=\"nav-link clean-list flex align-center\">\r\n                        <li><NavLink to=\"/\">Become a host</NavLink></li>\r\n                        <li><NavLink to=\"/stay\">Explore</NavLink></li>\r\n\r\n                        <li className=\"flex align-center\">\r\n                            <div className=\"login-signup-btn flex align-center\"\r\n                                onClick={this.onShowUserMenu}\r\n                            >\r\n                                <FontAwesomeIcon icon={faBars} size=\"2x\" />\r\n                                {!loggedInUser && <FontAwesomeIcon icon={faUserCircle} size=\"2x\" />}\r\n                                {loggedInUser &&\r\n                                    <div className=\"avatar-container\">\r\n                                        <Badge badgeContent={msgNum} color=\"secondary\">\r\n                                            <AvatarSymbol url={loggedInUser.imgUrl} />\r\n                                        </Badge>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                    {this.state.isOpen && <ClickAwayListener onClickAway={this.onCloseUserMenu}>\r\n                        <div className=\"user-modal flex\">\r\n                            <ul className=\"clean-list\">\r\n                                {!loggedInUser &&\r\n                                    <NavLink\r\n                                        onClick={this.onCloseUserMenu}\r\n                                        to=\"/login\"\r\n                                    >\r\n                                        <li>Login</li>\r\n                                    </NavLink>}\r\n                                {loggedInUser && loggedInUser.isHost &&\r\n                                    <NavLink\r\n                                        onClick={this.onCloseUserMenu}\r\n                                        to=\"/userprofile/orders\"\r\n                                    >\r\n                                        <li>Profile</li>\r\n                                    </NavLink>}\r\n                                {loggedInUser && <NavLink\r\n                                    onClick={this.onCloseUserMenu}\r\n                                    to=\"/trips\"\r\n                                >\r\n                                    <li>Trips</li>\r\n                                </NavLink>}\r\n                                <li>\r\n                                    {loggedInUser && <NavLink onClick={onLogout} to=\"/\">Logout</NavLink>}\r\n                                    {!loggedInUser && <NavLink to=\"/signup\">Signup</NavLink>}\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </ClickAwayListener>}\r\n                </nav>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onLogout,\r\n}\r\n\r\nexport const AppHeader = connect(mapStateToProps, mapDispatchToProps)(_AppHeader)","export function Footer() {\r\n    return (\r\n        <footer>\r\n            <p> 2021 Homie, Inc. All rights reserved</p>\r\n        </footer>\r\n    )\r\n}","import './assets/styles/styles.scss'\r\n\r\nimport { Component } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport { routes } from './routes'\r\n\r\nimport { AppHeader } from './cmps/AppHeader.jsx'\r\nimport { Footer } from './cmps/Footer.jsx'\r\nimport { Loader } from './cmps/Loader.jsx'\r\n\r\nimport { withSnackbar } from 'notistack'\r\nimport { connect } from 'react-redux'\r\nimport { getStays } from './store/actions/stay.actions.js'\r\nimport { socketService } from './services/socket-service'\r\nimport { queryAllByAltText } from '@testing-library/dom'\r\n\r\nexport class _App extends Component {\r\n\r\n  async componentDidMount() {\r\n    this.props.getStays(this.props.filterBy)\r\n    await socketService.setup()\r\n    socketService.on('ORDER_IN', (hostName) => {\r\n      this.props.enqueueSnackbar(`${hostName}, you have a new order.`, {\r\n        variant: 'success',\r\n      })\r\n    })\r\n    socketService.on('STATUS_FROM_HOST', status => {\r\n      let orderStatus = status === 'accepted' ? 'success': 'eror'\r\n      this.props.enqueueSnackbar(`your order has been ${status}.` ,{\r\n        variant: orderStatus, \r\n        })\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socketService.terminate()\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    if (!this.props.stays) return <Loader />\r\n\r\n    return (\r\n      <div className=\"app main-container\" >\r\n        <AppHeader />\r\n        <Switch>\r\n          {routes.map(route =>\r\n            <Route\r\n              key={route.path}\r\n              component={route.component}\r\n              path={route.path} />)}\r\n        </Switch>\r\n        <Footer />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    stays: state.stayModule.stays,\r\n    filterBy: state.stayModule.filterBy\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  getStays,\r\n}\r\n\r\nexport const App = connect(mapStateToProps, mapDispatchToProps)(withSnackbar(_App))","const initialState = {\r\n    stays: [],\r\n    filterBy: {}\r\n}\r\n\r\nexport function stayReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_STAYS':\r\n            return { ...state, stays: action.stays }\r\n        case 'ADD_STAY':\r\n            return { ...state, stays: [action.stay, ...state.stays] }\r\n        case 'UPDATE_STAY':\r\n            return { ...state, stays: [action.stay, ...state.stays.filter(stay => action.stay._id !== stay._id)] }\r\n        case 'REMOVE_STAY':\r\n            return { ...state, stays: state.stays.filter(stay => stay._id !== action.stayId) }\r\n        case 'SET_FILTER':\r\n            return { ...state, filterBy: { ...state.filterBy, ...action.filterBy } }\r\n        default:\r\n            return state\r\n    }\r\n}","let localLoggedinUser = {\r\n    _id: \"60bf2d7dc508494d34eaae90\",\r\n    username: \"Alex\",\r\n    fullname: \"Alex\",\r\n    imgUrl: \"https://ozgrozer.github.io/100k-faces/0/7/007489.jpg\",\r\n    isHost: true\r\n}\r\n\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n    loggedInUser: localLoggedinUser,\r\n    users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return { ...state, loggedInUser: action.user }\r\n        case 'REMOVE_USER':\r\n            return {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n        case 'SET_USERS':\r\n            return { ...state, users: action.users }\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = {\r\n    orders: []\r\n}\r\n\r\nexport function orderReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            return { ...state, orders: action.orders }\r\n        case 'ADD_ORDER':\r\n            return { ...state, orders: [action.order, ...state.orders] }\r\n        case 'UPDATE_ORDER':\r\n            return { ...state, orders: [action.order, ...state.orders.filter(order => action.order._id !== order._id)] }\r\n        case 'REMOVE_ORDER':\r\n            return { ...state, orders: state.orders.filter(order => order._id !== action.orderId) }\r\n        default:\r\n            return state\r\n    }\r\n}","import { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport ReduxThunk from 'redux-thunk'\r\nimport { stayReducer } from './reducers/stay.reducer'\r\nimport { userReducer } from './reducers/user.reducer'\r\nimport { orderReducer } from './reducers/order.reducer'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst rootReducer = combineReducers({\r\n    stayModule: stayReducer,\r\n    userModule: userReducer,\r\n    orderModule: orderReducer,\r\n\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(ReduxThunk)))","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\n\r\nimport { App } from './App.jsx'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store.js'\r\n\r\nimport { SnackbarProvider } from 'notistack'\r\nimport Slide from '@material-ui/core/Slide'\r\n\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router >\r\n        <SnackbarProvider\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n          }}\r\n          TransitionComponent={Slide}\r\n          preventDuplicate\r\n          maxSnack={1}\r\n        >\r\n          <App />\r\n        </SnackbarProvider>\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}